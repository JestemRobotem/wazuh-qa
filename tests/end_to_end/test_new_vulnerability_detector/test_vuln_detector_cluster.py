import os

import pytest
from wazuh_testing.tools import configuration as config

test_data_path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data')
test_cases_path = os.path.join(test_data_path, 'test_cases')
t1_file_path = os.path.join(test_cases_path, 'case_vuln_detector_cluster.yaml')
t2_file_path = os.path.join(test_cases_path, 'case_vd_cluster_manager_down.yaml')

t1_config, t1_metadata, t1_ids = config.get_test_cases_data(t1_file_path)
t2_config, t2_metadata, t2_ids = config.get_test_cases_data(t2_file_path)


@pytest.mark.parametrize('metadata', t1_metadata, ids=t1_ids)
def test_vuln_detector_cluster(configure_environment, metadata):
    """
    Steps:
        1. Run the necessary tasks to prepare the environment
        2. Run the necessary tasks to generate the desired result
        3. Check the results
        4. Clean the environment
    """

@pytest.mark.parametrize('metadata', t2_metadata, ids=t2_ids)
def test_vd_cluster_manager_down(configure_environment, metadata):
    """
    Steps:
        1. Run the necessary tasks to prepare the environment
        2. Run the necessary tasks to generate the desired result
        3. Check the results
        4. Clean the environment
    """
