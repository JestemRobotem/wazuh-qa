---
- hosts: masters
  vars_files:
    - ./vars/aws.yml
    - ./vars/use_cases.yml
    - ./vars/wazuh_manager.yml  
  tasks: 
    - include_role: 
        name: "roles/use_cases"
      vars:
        master: true
  become: yes
  become_user: root

- hosts: workers
  vars_files:
    - ./vars/aws.yml
    - ./vars/use_cases.yml
    - ./vars/wazuh_manager.yml  
  tasks: 
    - include_role: 
        name: "roles/use_cases"
      vars:
        worker: true
  become: yes
  become_user: root
    
- hosts: rhel
  vars_files:
    - ./vars/aws.yml
    - ./vars/use_cases.yml
    - ./vars/wazuh_manager.yml
  tasks: 
    - include_role: 
        name: "roles/use_cases"
      vars:
        agent: true
  become: yes
  become_user: root

- hosts: windows
  vars_files:
    - ./vars/aws.yml
    - ./vars/use_cases.yml
    - ./vars/wazuh_manager.yml
  tasks: 
    - include_role: 
        name: "roles/use_cases"
      vars:
        agent_windows: true
